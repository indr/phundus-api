<h2>Bestellung</h2>

<div x-ph-alert-loading />

<div ng-show="isLoaded" class="row">
    <div class="col-lg-6">
        <p>Nummer: {{order.orderId}}</p>
        <p>Status: {{order.status | orderStatusText}}</p>   
        <p>Erstellt: {{order.createdUtc | date:'medium'}}</p>
        <p>Bearbeitet: {{order.modifiedUtc | date:'medium'}}</p>    
    </div>
    <div class="col-lg-6">
        <p>Organisation: {{order.organizationName}}</p>
    </div>
</div>

<table ng-show="isLoaded" class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>Artikel</th>
            <th>Verfügbar</th>
            <th>Von</th>
            <th>Bis</th>
            <th>Menge</th>
            <th>Stückpreis</th>
            <th>Total</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="item in order.items">
            <td>{{item.text}}</td>
            <td ng-show="item.isAvailable"><span class="glyphicon glyphicon-ok"></span></td>
            <td ng-show="!item.isAvailable"><span class="glyphicon glyphicon-remove"></span></td>
            <td>{{item.fromUtc | date:'mediumDate'}}</td>
            <td>{{item.toUtc | date:'mediumDate'}}</td>
            <td>{{item.amount}}</td>
            <td>{{item.unitPrice | currency}}</td>
            <td>{{item.itemTotal | currency}}</td>
        </tr>

        <tr style="font-weight:bold">
            <td colspan="6" style="text-align:right;">Total</td>
            <td>{{order.totalPrice | currency}}</td>
        </tr>
    </tbody>
</table>

<div class="row">
    <div class="col-lg-6">
        <a class="btn btn-default" href="" ph-history-back>Zurück</a>
        <a ng-show="isLoaded" class="btn btn-default" href="./api/orders/{{order.orderId}}.pdf">PDF</a>
    </div>
    <div ng-show="isLoaded" class="col-lg-6" style="text-align:right">
    </div>
</div>
