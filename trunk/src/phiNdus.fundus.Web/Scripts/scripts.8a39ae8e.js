!function(a){function b(a){var b="01",c={};for(var d in a){var e=parseInt(b,2);c[a[d]]={bitMask:e,title:a[d]},b=(e<<1).toString(2)}return c}function c(a,b){var c={};for(var d in a){var e,f;if("string"==typeof a[d])if("*"===a[d]){f="";for(e in b)f+="1";c[d]={bitMask:parseInt(f,2)}}else console.log("Access Control Error: Could not parse '"+a[d]+"' as access definition for level '"+d+"'");else{f=0;for(e in a[d])b.hasOwnProperty(a[d][e])?f|=b[a[d][e]].bitMask:console.log("Access Control Error: Could not find role '"+a[d][e]+"' in registered roles while building access for '"+d+"'");c[d]={bitMask:f}}}return c}var d={roles:["public","user","manager","admin"],accessLevels:{"public":"*",anon:["public"],user:["user","manager","admin"],manager:["manager","admin"],admin:["admin"]}};a.userRoles=b(d.roles),a.accessLevels=c(d.accessLevels,a.userRoles)}("undefined"==typeof exports?this.routingConfig={}:exports);var app=angular.module("phundusApp",["leaflet-directive","ngCookies","ngSanitize","smart-table","ui.gravatar","ui.router","uuid","xeditable","blueimp.fileupload"]).constant("_",window._).constant("$",window.$).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){var e=window.routingConfig.accessLevels;a.state("public",{"abstract":!0,template:"<ui-view/>",data:{access:e["public"]}}).state("public.shop",{url:"/",template:"<ui-view />",controller:"ShopCtrl"}).state("public.organizations",{url:"/organizations",templateUrl:"views/organizations.html",controller:"OrganizationsCtrl"}).state("public.organization",{url:"/organizations/:organizationId",templateUrl:"views/organization.html",controller:"OrganizationCtrl",resolve:{organizationId:["$stateParams",function(a){return a.organizationId}]}}).state("public.404",{url:"/404",templateUrl:"views/404.html"}).state("public.debug",{url:"/debug",templateUrl:"views/debug.html",controller:"DebugCtrl"}),a.state("anon",{"abstract":!0,template:"<ui-view/>",data:{access:e.anon}}).state("anon.register",{url:"/register",templateUrl:"views/register.html",controller:"RegisterCtrl"}).state("anon.login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("anon.logout",{url:"/logout",templateUrl:"views/logout.html",controller:"LogoutCtrl"}).state("anon.goodbye",{url:"/goodbye",templateUrl:"views/goodbye.html"}),a.state("users",{"abstract":!0,url:"/users/:userId",template:'<ph-user-navbar data-user-id="userId"></ph-user-navbar><ui-view/>',data:{access:e.user},controller:"UsersCtrl",resolve:{userId:["$stateParams",function(a){return a.userId}]}}).state("users.home",{url:"",templateUrl:"views/users/home.html",controller:"UsersHomeCtrl"}).state("users.articles",{"abstract":!0,url:"/articles",template:"<ui-view/>"}).state("users.articles.index",{url:"/",templateUrl:"views/users/articles.html",controller:"UsersArticlesIndexCtrl"}).state("users.articles.new",{url:"/new",templateUrl:"views/manage/create-article.html",controller:"UsersArticlesNewCtrl"}).state("users.articles.edit",{"abstract":!0,url:"/:articleId",template:'<ph-user-article-navbar data-user-id="userId" data-article-id="articleId"></ph-user-article-navbar><ui-view/>',controller:["$scope","userId","articleId",function(a,b,c){a.userId=b,a.articleId=c,a.queue=[]}],resolve:{articleId:["$stateParams",function(a){return a.articleId}]}}).state("users.articles.edit.details",{url:"/",templateUrl:"views/manage/edit-article-details.html",controller:"UsersArticlesDetailsCtrl"}).state("users.articles.edit.description",{url:"/description",templateUrl:"views/manage/edit-article-description.html",controller:"UsersArticlesDescriptionCtrl"}).state("users.articles.edit.specification",{url:"/specification",templateUrl:"views/manage/edit-article-specification.html",controller:"UsersArticlesSpecificationCtrl"}).state("users.articles.edit.files",{url:"/files",templateUrl:"views/manage/edit-article-files.html",controller:"UsersArticlesFilesCtrl"}),a.state("manage",{"abstract":!0,template:"<ui-view/>",data:{access:e.manager}}).state("manage.articles",{url:"/organizations/{organizationId}/articles",templateUrl:"views/manage/articles.html",controller:"ManageArticlesCtrl",resolve:{organizationId:["$stateParams",function(a){return a.organizationId}]}}),a.state("admin",{"abstract":!0,template:"<ui-view/>",data:{access:e.admin}}).state("admin.admin",{url:"/admin",templateUrl:"views/admin.html",controller:"AdminCtrl"}),b.otherwise("/404"),c.html5Mode(!1),b.rule(function(a,b){return"file"!==b.protocol()&&""===b.path()?"/":void 0}),d.interceptors.push(["$q","$location",function(a,b){return{responseError:function(c){return 401===c.status||403===c.status?(b.search("returnPath",encodeURI(b.path())),b.path("/#/login")):404===c.status&&b.path("/#/404"),a.reject(c)}}}])}]);angular.module("phundusApp").config(["$httpProvider","fileUploadProvider",function(a,b){delete a.defaults.headers.common["X-Requested-With"],b.defaults.redirect=window.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s")}]),angular.module("phundusApp").filter("orderStatusText",function(){return function(a){return{Pending:"Provisorisch",Approved:"Bestätigt",Rejected:"Abgelehnt",Closed:"Abgeschlossen"}[a]}}),angular.module("phundusApp").controller("MyFileUploadCtrl",["$scope","$http","$filter","$window",function(a,b){var c=a.url;a.options={url:c},a.loadingFiles=!0,b.get(c).then(function(b){a.loadingFiles=!1,a.queue=b.data.files||[]},function(){a.loadingFiles=!1})}]).controller("FileDestroyController",["$scope","$http",function(a,b){var c,d=a.file;d.url?(d.$state=function(){return c},d.$destroy=function(){return c="pending",b({url:d.deleteUrl,method:d.deleteType}).then(function(){c="resolved",a.clear(d)},function(){c="rejected"})}):d.$cancel||d._index||(d.$cancel=function(){a.clear(d)})}]),app.run(["$rootScope","$state","Auth","Alert","editableOptions",function(a,b,c,d,e){a.$state=b,e.theme="bs3",a.$on("$stateChangeStart",function(a,e,f,g){"data"in e&&"access"in e.data?c.authorize(e.data.access,void 0,f.organizationId)||(d.error("Seems like you tried accessing a route you don't have access to..."),a.preventDefault(),"^"===g.url&&(c.isLoggedIn()?b.go("anon.login"):b.go("anon.login"))):(d.error("Access undefined for this state."),a.preventDefault())})}]),angular.module("phundusApp").controller("AdminCtrl",["$scope","Users","Auth","Alert",function(a,b,c,d){a.loading=!0,a.userRoles=c.userRoles,b.getAll(function(b){a.users=b,a.loading=!1},function(){d.error("Failed to fetch users."),a.loading=!1})}]),angular.module("phundusApp").controller("DebugCtrl",["$","$scope","$http","$cookies","$timeout","Alert",function(a,b,c,d,e,f){b.status={},c.get("/api/v0/status").success(function(a){b.status=a}),b.toggleCartPopover=function(){a("#popover-glyphicon-cart").popover("show"),e(function(){a("#popover-glyphicon-cart").popover("hide")},4e3,!0)},b.cookies=d.getAll(),b.alertMsg="Alert message",b.addError=function(){f.error(b.alertMsg)},b.addDanger=function(){f.danger(b.alertMsg)},b.addWarning=function(){f.warning(b.alertMsg)},b.addSuccess=function(){f.success(b.alertMsg)}}]),angular.module("phundusApp").controller("LoginCtrl",["$scope","$location","$window","Auth","Alert",function(a,b,c,d,e){a.rememberMe=!0,a.login=function(){d.login({username:a.username,password:a.password,rememberme:a.rememberMe},function(){var a=b.search().ReturnUrl;if(a)c.location.href=a;else{var d=b.search().returnPath||"/";delete b.search().returnPath,b.path(d)}},function(){e.error("Das angegebene Passwort ist nicht korrekt.")})}}]),angular.module("phundusApp").controller("LogoutCtrl",["$scope","$location","$window","Auth","Alert",function(a,b,c,d,e){d.isLoggedIn?d.logout(function(){b.path("/goodbye")},function(a){e.error(a)}):b.path("/goodbye")}]),angular.module("phundusApp").controller("NavCtrl",["$rootScope","$scope","$state","$location","$window","Auth","Alert","Organizations",function(a,b,c,d,e,f,g,h){a.alerts=g.alerts,a.dismissAlert=function(a,b){g.dismiss(a,b)},b.user=f.user,b.userRoles=f.userRoles,b.accessLevels=f.accessLevels,b.queryString="",b.search=function(){e.location.href="/shop/Search?queryString="+b.queryString},b.logout=function(){f.logout(function(){d.path("/goodbye")},function(a){g.error(a)})},b.establishOrganization=function(){var a=e.prompt("Name der neuen Organisation","");a&&h.post(a,function(a){g.success("Die Organisation wurde erfolgreich gegründet."),c.go("public.organization",{organizationId:a.organizationId})},function(){g.error("Fehler beim Gründen der Organisation.")})}}]),angular.module("phundusApp").controller("OrganizationsCtrl",["$scope","Organizations","Alert",function(a,b,c){a.loading=!0,b.getAll(function(b){a.organizations=b,a.displayedOrganizations=[].concat(a.organizations),a.loading=!1},function(){c.error("Fehler beim Laden der Organisationen."),a.loading=!1})}]).controller("OrganizationCtrl",["organizationId","$scope","$sce","$window","Alert","Auth","Organizations","Relationships","Applications","leafletData","leafletMarkersHelpers","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l){b.loading=!0,b.accessLevels=f.accessLevels,b.organization=null,b.organizationId=a,b.hasContactOptions=function(){return b.organization&&(b.organization.address||b.organization.emailAddress||b.organization.website)},g.get(a,function(d){b.organization=d,b.startpage=c.trustAsHtml(d.startpage),l(function(){b.organization.coordinate&&j.getMap().then(function(a){var c=b.organization.coordinate.split(","),d={lat:parseFloat(c[0]),lng:parseFloat(c[1])};a.setView(d,14),b.marker?b.marker.setLatLng(d):(b.marker=k.createMarker(d),b.marker.addTo(a))})},0),f.isLoggedIn()&&h.get(a,function(a){b.relationship=a},function(){e.error("Fehler beim Laden des Mitgliedschaftsstatus.")})},function(){e.error("Fehler beim Laden der Organisation.")}),b.join=function(){d.confirm("Möchtest du dieser Organisation wirklich beitreten?")&&i.post(a,{},function(){e.info("Die Mitgliedschaft wurde beantragt. Du erhältst ein E-Mail wenn ein Administrator diese bestätigt oder ablehnt."),b.relationship={status:"Application",timestamp:new Date}},function(){e.error("Fehler beim Beantragen der Mitgliedschaft.")})}}]),angular.module("phundusApp").controller("RegisterCtrl",[function(){}]),angular.module("phundusApp").controller("ShopCtrl",["$timeout","$window",function(a,b){a(function(){b.location.href="shop"},0)}]),angular.module("phundusApp").controller("UsersCtrl",["$scope","userId","Auth",function(a,b,c){a.userId=b,a.isHome=a.userId+""==c.user.userId+""}]),angular.module("phundusApp").controller("UsersHomeCtrl",["$scope","userId","Users","Stores","Alert",function(a,b,c,d,e){a.userId=b,a.user=null,c.get(b,function(b){a.user=b},function(){e.error("Fehler beim Laden des Benutzers.")}),a.openStore=function(){d.post(a.user.userId,function(b){a.user.store=b,e.success("Deine Materialstelle wurde erfolgreich eröffnet.")},function(){e.error("Fehler beim Eröffnen deiner Materialstelle.")})}}]),angular.module("phundusApp").controller("UsersArticlesIndexCtrl",["_","$scope","userId","$window","UserArticles","Alert",function(a,b,c,d,e,f){b.loading=!0,e.getAll(c,function(a){b.articles=a,b.displayedArticles=[].concat(b.articles),b.loading=!1},function(){f.error("Fehler beim Laden der Artikel."),b.loading=!1}),b["delete"]=function(g,h){d.confirm('Möchtest du den Artikel "'+h+'" wirklich löschen?')&&e["delete"](c,g,function(){f.success('Der Artikel "'+h+'" wurder erfolgreich gelöscht.'),a.remove(b.displayedArticles,{id:g}),a.remove(b.articles,{id:g})},function(){f.error('Fehler beim Löschen des Artikels "'+h+'".')})}}]),angular.module("phundusApp").controller("UsersArticlesNewCtrl",["$scope","$state","userId","UserArticles","Alert",function(a,b,c,d,e){a.userId=c,a.submit=function(){d.post(c,{name:a.name},function(a){e.success("Das Material wurde erfolgreich erfasst."),b.go("users.articles.edit.details",{userId:c,articleId:a.articleId})},function(){e.error("Fehler beim Speichern des Materials.")})}}]),angular.module("phundusApp").controller("UsersArticlesDetailsCtrl",["$scope","$state","userId","articleId","UserArticles","Alert",function(a,b,c,d,e,f){a.userId=c,a.articleId=d,a.article=null,e.get(c,d,function(b){a.article=b},function(){f.error("Fehler beim Laden des Artikels.")}),a.submit=function(){e.put(c,d,a.article,function(){f.success("Das Material wurde erfolgreich gespeichert.")},function(){f.error("Fehler beim Speichern des Material.")})}}]),angular.module("phundusApp").controller("UsersArticlesDescriptionCtrl",["$scope","$state","userId","articleId","UserArticles","Alert",function(a,b,c,d,e,f){a.userId=c,a.articleId=d,a.description=null,e.getDescription(c,d,function(b){a.description=b},function(){f.error("Fehler beim Laden der Beschreibung.")}),a.submit=function(){e.putDescription(c,d,{data:a.description},function(){f.success("Die Beschreibung wurde erfolgreich gespeichert.")},function(){f.error("Fehler beim Speichern der Beschreibung.")})}}]),angular.module("phundusApp").controller("UsersArticlesSpecificationCtrl",["$scope","$state","userId","articleId","UserArticles","Alert",function(a,b,c,d,e,f){a.userId=c,a.articleId=d,a.specification=null,e.getSpecification(c,d,function(b){a.specification=b},function(){f.error("Fehler beim Laden der Spezifikation.")}),a.submit=function(){e.putSpecification(c,d,{data:a.specification},function(){f.success("Die Spezifikation wurde erfolgreich gespeichert.")},function(){f.error("Fehler beim Speichern der Spezifikation.")})}}]),angular.module("phundusApp").controller("UsersArticlesFilesCtrl",["$scope","userId","articleId",function(a,b,c){a.url="/api/v0/users/"+b+"/articles/"+c+"/files"}]),angular.module("phundusApp").controller("UsersOrdersCtrl",["$scope","Orders","Alert",function(a,b,c){b.getAll(function(b){a.rowCollection=b,a.displayedCollection=[].concat(a.rowCollection)},function(a){c.error(a)})}]),angular.module("phundusApp").controller("UsersContractsCtrl",["$scope",function(a){a.search={status:""},a.order="-createdUtc",a.orderBy=function(b){a.order===b?a.order="-"+b:a.order=b}}]),angular.module("phundusApp").controller("ManageArticlesCtrl",["_","$scope","$window","Articles","Auth","Alert","organizationId",function(a,b,c,d,e,f,g){b.loading=!0,b.userRoles=e.userRoles,b.organizationId=g,d.getAll(g,function(a){b.articles=a,b.displayedArticles=[].concat(b.articles),b.loading=!1},function(){f.error("Fehler beim Laden der Artikel."),b.loading=!1}),b["delete"]=function(e,h){c.confirm('Möchtest du den Artikel "'+h+'" wirklich löschen?')&&d["delete"](g,e,function(){f.success('Der Artikel "'+h+'" wurder erfolgreich gelöscht.'),a.remove(b.displayedArticles,{id:e}),a.remove(b.articles,{id:e})},function(){f.error('Fehler beim Löschen des Artikels "'+h+'".')})}}]),angular.module("phundusApp").directive("phOrganizationNavbar",["Auth",function(a){return{restrict:"E",replace:"true",scope:{organizationId:"=organizationId"},link:function(b){b.accessLevels=a.accessLevels,b.userRoles=a.userRoles},templateUrl:"views/directives/ph-organization-navbar.html"}}]),angular.module("phundusApp").directive("phUserArticleNavbar",["Auth",function(a){return{restrict:"E",replace:"true",scope:{userId:"=userId",articleId:"=articleId"},link:function(b){b.accessLevels=a.accessLevels,b.userRoles=a.userRoles},templateUrl:"views/directives/ph-user-article-navbar.html"}}]),angular.module("phundusApp").directive("phUserNavbar",["Auth",function(a){return{restrict:"E",replace:"true",scope:{userId:"=userId"},link:function(b){b.accessLevels=a.accessLevels,b.userRoles=a.userRoles,b.isHome=b.userId+""==a.user.userId+""},templateUrl:"views/directives/ph-user-navbar.html"}}]),angular.module("phundusApp").directive("phUserVcard",[function(){return{restrict:"E",replace:"true",scope:{user:"=",isEditable:"="},templateUrl:"views/directives/ph-user-vcard.html"}}]),angular.module("phundusApp").directive("phUserStore",["$timeout","Stores","Alert","leafletData","leafletMarkersHelpers",function(a,b,c,d,e){return{restrict:"E",replace:"true",scope:{loaded:"=",store:"=",isEditable:"="},link:function(f){var g={lat:46.80121,lng:8.226692};a(function(){d.getMap().then(function(a){a.setView(g,7)})},0);var h=function(){f.store&&f.store.coordinate&&a(function(){d.getMap().then(function(a){var b={lat:f.store.coordinate.latitude,lng:f.store.coordinate.longitude};a.setView(b,16),f.marker?f.marker.setLatLng(b):(f.marker=e.createMarker(b,{draggable:!0}),f.marker.addTo(a))})},500)};h(),f.fromMap=function(){d.getMap().then(function(a){var b=a.getCenter();f.userStoreCoordinateForm.latitude.$setViewValue(b.lat),f.userStoreCoordinateForm.latitude.$render(),f.userStoreCoordinateForm.longitude.$setViewValue(b.lng),f.userStoreCoordinateForm.longitude.$render()})},f.$watch("store.coordinate.latitude",function(){h()}),f.$watch("store.coordinate.longitude",function(){h()}),f.updateAddress=function(a){b.putAddress(f.store.storeId,a.address,function(){},function(){c.error("Fehler beim Speichern der Adresse.")})},f.updateOpeningHours=function(a){b.putOpeningHours(f.store.storeId,a.openingHours,function(){},function(){c.error("Fehler beim Speichern der Öffnungszeiten.")})},f.updateCoordinate=function(a){b.putCoordinate(f.store.storeId,a,function(){},function(){c.error("Fehler beim Speichern der Koordinate.")})}},templateUrl:"views/directives/ph-user-store.html"}}]),angular.module("phundusApp").filter("replace",function(){return function(a,b,c){return void 0===a||null===a?null:a.replace(new RegExp(b,"mg"),c)}}),angular.module("phundusApp").factory("Alert",["$timeout","uuid4",function(a,b){var c={},d=function(a,b){delete c[a][b]},e=function(e,f){var g=b.generate();c[e]=c[e]||{},c[e][g]=f,a(d,1e4,!0,e,g)};return{alerts:c,dismiss:function(a,b){d(a,b)},danger:function(a){e("danger",a)},error:function(a){e("danger",a)},info:function(a){e("info",a)},success:function(a){e("success",a)},warning:function(a){e("warning",a)}}}]),angular.module("phundusApp").factory("Auth",["$http","$cookies","_",function(a,b,c){function d(a){angular.extend(j,a),k=c.find(a.memberships,{selected:!0}),f()}function e(a){c.forEach(j.memberships,function(b){b.selected=b===a}),k=a,f()}function f(){if(k){var a=i.manager.bitMask;k.isManager?j.role.bitMask=j.role.bitMask|a:j.role.bitMask=j.role.bitMask&~a}}function g(a){if(!a)return 0;var b=c.find(j.memberships,{organizationId:a});return b&&b.isManager?i.manager.bitMask:0}var h=window.routingConfig.accessLevels,i=window.routingConfig.userRoles,j=b.getObject("ph.user")||{username:"",role:i["public"]},k=c.find(j.memberships,{selected:!0});return f(),{authorize:function(a,b,c){return void 0===b&&(b=j.role),a.bitMask&(b.bitMask|g(c))},isLoggedIn:function(a){return void 0===a&&(a=j),a.role.title===i.user.title||a.role.title===i.admin.title},login:function(c,e,f){a.post("/api/v0/sessions",{username:c.username,password:c.password,rememberme:c.rememberme}).success(function(a){b.putObject("ph.user",a,{secure:!1}),d(a),e(a)}).error(f)},logout:function(c,e){b.remove("ph.user"),a["delete"]("/api/v0/sessions").success(function(){d({memberships:void 0,username:"",role:i["public"]}),c()}).error(e)},select:function(b,c,d){e(b),a.get("/organization/select/"+b.organizationId).success(function(a){c&&c(a)}).error(d)},accessLevels:h,userRoles:i,user:j}}]),angular.module("phundusApp").factory("Contracts",["$http",function(a){return{getAll:function(b,c){a.get("/api/contracts").success(b).error(c)}}}]).factory("Orders",["$http",function(a){return{getAll:function(b,c){a.get("/api/orders").success(b).error(c)}}}]).factory("Stores",["$http",function(a){return{get:function(b,c,d){a.get("/api/v0/stores/"+b).success(c).error(d)},post:function(b,c,d){a.post("/api/v0/stores",{userId:b}).success(c).error(d)},putAddress:function(b,c,d,e){a.put("/api/v0/stores/"+b+"/address",{address:c}).success(d).error(e)},putOpeningHours:function(b,c,d,e){a.put("/api/v0/stores/"+b+"/opening-hours",{openingHours:c}).success(d).error(e)},putCoordinate:function(b,c,d,e){a.put("/api/v0/stores/"+b+"/coordinate",{coordinate:{latitude:parseFloat(c.latitude),longitude:parseFloat(c.longitude)}}).success(d).error(e)}}}]).factory("Users",["$http",function(a){return{getAll:function(b,c){a.get("/api/v0/users").success(b).error(c)},get:function(b,c,d){a.get("/api/v0/users/"+b).success(c).error(d)}}}]).factory("Organizations",["$http",function(a){return{getAll:function(b,c){a.get("/api/v0/organizations").success(b).error(c)},get:function(b,c,d){a.get("/api/v0/organizations/"+b).success(c).error(d)},post:function(b,c,d){a.post("/api/v0/organizations",{name:b}).success(c).error(d)}}}]).factory("Relationships",["$http",function(a){return{get:function(b,c,d){a.get("/api/v0/organizations/"+b+"/relationships").success(c).error(d)}}}]).factory("Applications",["$http",function(a){return{post:function(b,c,d,e){a.post("/api/v0/organizations/"+b+"/applications",c).success(d).error(e)}}}]).factory("Articles",["$http",function(a){return{getAll:function(b,c,d){a.get("/api/v0/organizations/"+b+"/articles").success(c).error(d)},"delete":function(b,c,d,e){a["delete"]("/api/v0/organizations/"+b+"/articles/"+c).success(d).error(e)}}}]).factory("UserArticles",["$http",function(a){var b=function(a,b,c){var d="/api/v0/users/"+a+"/articles";return b?(d+="/"+b,c?d+="/"+c:d):d};return{getAll:function(c,d,e){a.get(b(c)).success(d).error(e)},post:function(c,d,e,f){a.post(b(c),d).success(e).error(f)},get:function(c,d,e,f){a.get(b(c,d)).success(e).error(f)},put:function(c,d,e,f,g){a.put(b(c,d),e).success(f).error(g)},"delete":function(c,d,e,f){a["delete"](b(c,d)).success(e).error(f)},getDescription:function(c,d,e,f){a.get(b(c,d,"description")).success(e).error(f)},putDescription:function(c,d,e,f,g){a.put(b(c,d,"description"),e).success(f).error(g)},getSpecification:function(c,d,e,f){a.get(b(c,d,"specification")).success(e).error(f)},putSpecification:function(c,d,e,f,g){a.put(b(c,d,"specification"),e).success(f).error(g)}}}]),angular.module("phundusApp").directive("accessLevel",["Auth",function(a){return{restrict:"A",link:function(b,c,d){function e(){f&&g&&(a.authorize(g,f,h)?c.css("display",i):c.css("display","none"))}var f,g,h,i=c.css("display");b.user=a.user,b.$watch("user",function(a){a.role&&(f=a.role),e()},!0),d.$observe("accessLevel",function(a){a&&(g=b.$eval(a)),e()}),d.$observe("organizationId",function(a){a&&(h=b.$eval(a)),e()})}}}]),angular.module("phundusApp").directive("activeNav",["$location",function(a){function b(a){return"/"!==a[a.length-1]&&(a+="/"),a}return{restrict:"A",link:function(c,d,e){var f=d[0];"A"!==d[0].tagName.toUpperCase()&&(f=d.find("a")[0]);var g=f.href;c.location=a,c.$watch("location.absUrl()",function(a){g=b(g),a=b(a),g===a||"nestedTop"===e.activeNav&&0===a.indexOf(g)?d.addClass("active"):d.removeClass("active")})}}}]),angular.module("phundusApp").run(["$templateCache",function(a){"use strict";a.put("views/404.html","<h2>404</h2> <p>Hier ist nichts zu finden.</p> <div ui-view></div>"),a.put("views/admin.html",'<h2>admin</h2> <p>This view is visible to users with the administrator role.</p> <table class="table table-striped" data-ng-hide="loading"> <thead> <tr> <th>#</th> <th>Username</th> <th>Role</th> </tr> </thead> <tbody> <tr data-ng-repeat="user in users"> <td>{{user.id}}</td> <td>{{user.username}}</td> <td> <span class="label" data-ng-class="{&quot;label-info&quot;: user.role.title == userRoles.user.title, &quot;label-success&quot;: user.role.title == userRoles.admin.title}"> {{user.role.title}} </span> </td> </tr> </tbody> </table>'),a.put("views/debug.html",'<h2>Debug</h2> <p><button class="btn btn-default" data-ng-click="toggleCartPopover()">Zeige Warenkorb-Meldung</button></p> <h2>Test Alerts</h2> <form> <div class="form-group"> <input type="text" class="form-control" id="inputAlertMsg" data-ng-model="alertMsg"> </div> <button class="btn btn-default" data-ng-click="addError()">Add error</button> <button class="btn btn-default" data-ng-click="addDanger()">Add danger</button> <button class="btn btn-default" data-ng-click="addWarning()">Add warning</button> <button class="btn btn-default" data-ng-click="addSuccess()">Add success</button> </form> <h2>Status</h2> <pre>{{status|json}}</pre> <h2>Cookies</h2> <pre>{{cookies|json}}</pre>'),a.put("views/directives/ph-organization-navbar.html",'<ul class="nav nav-tabs" style="margin-bottom:10px" data-access-level="accessLevels.manager" data-organization-id="organizationId"> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="public.organization({organizationId: organizationId})"><span class="glyphicon glyphicon-home"></span></a> </li> <li role="presentation"><a href="/management/{{organizationId}}#/orders">Bestellungen</a></li> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="manage.articles({organizationId: organizationId})">Material</a> </li> <li role="presentation"><a href="/management/{{organizationId}}#/members">Mitglieder</a></li> <li role="presentation"><a href="/management/{{organizationId}}#/applications">Beitrittsanfragen</a></li> <li role="presentation"><a href="/management/{{organizationId}}#/settings">Einstellungen</a></li> <li role="presentation"><a href="/management/{{organizationId}}#/files">Dateien</a></li> </ul>'),a.put("views/directives/ph-user-article-navbar.html",'<ul class="nav nav-tabs" style="margin-bottom:10px"> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="users.articles.edit.details({userId: userId, articleId: articleId})">#{{articleId}}</a> </li> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="users.articles.edit.description({userId: userId, articleId: articleId})">Beschreibung</a> </li> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="users.articles.edit.specification({userId: userId, articleId: articleId})">Spezifikation</a> </li> <li role="presentation" data-ui-sref-active="active"> <a href="" data-ui-sref="users.articles.edit.files({userId: userId, articleId: articleId})">Dateien</a> </li> </ul>'),a.put("views/directives/ph-user-navbar.html",'<ul class="nav nav-tabs" style="margin-bottom:10px" data-ng-show="isHome"> <li data-ui-sref-active="active" role="presentation"> <a href="" data-ui-sref="users.home({userId: userId})"><span class="glyphicon glyphicon-user"></span></a> </li> <li data-ui-sref-active="active" role="presentation" active-nav="nestedTop"> <a href="" data-ui-sref="users.articles.index({userId: userId})">Material</a> </li> <!--\n  <li data-ui-sref-active="active" role="presentation">\n    <a href="" udata-i-sref="users.orders({userId: userId})">Bestellungen</a>\n  </li>\n  --> </ul>'),a.put("views/directives/ph-user-store.html",'<div data-ng-show="store" class="store"> <div class="row"> <div class="col-xs-12 col-sm-3"> <label>Adresse</label> </div> <div class="col-xs-12 col-sm-9"> <p data-ng-hide="isEditable" style="white-space:pre">{{store.address}}</p> <form data-editable-form name="userStoreAddressForm" data-ng-show="isEditable" data-onbeforesave="updateAddress($data)"> <div class="form-group"> <button type="button" class="btn btn-default btn-sm pull-right" data-ng-click="userStoreAddressForm.$show()" data-ng-show="!userStoreAddressForm.$visible" title="Bearbeiten"> <span class="glyphicon glyphicon-edit"></span> </button> <p> <span style="white-space:pre" data-editable-textarea="store.address" data-e-rows="5" data-e-name="address">{{store.address}}</span> </p> </div> <div class="form-group" data-ng-show="userStoreAddressForm.$visible"> <button type="submit" class="btn btn-primary btn-sm" data-ng-disabled="userStoreAddressForm.$waiting"> Speichern </button> <button type="button" class="btn btn-default btn-sm" data-ng-disabled="userStoreAddressForm.$waiting" data-ng-click="userStoreAddressForm.$cancel()"> Verwerfen </button> </div> </form> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-3"> <label>Öffnungszeiten</label> </div> <div class="col-xs-12 col-sm-9"> <p data-ng-hide="isEditable" style="white-space:pre">{{store.openingHours}}</p> <form data-editable-form name="userStoreOpeningHoursForm" data-ng-show="isEditable" data-onbeforesave="updateOpeningHours($data)"> <div class="form-group"> <button type="button" class="btn btn-default btn-sm pull-right" data-ng-click="userStoreOpeningHoursForm.$show()" data-ng-show="!userStoreOpeningHoursForm.$visible" title="Bearbeiten"> <span class="glyphicon glyphicon-edit"></span> </button> <p> <span style="white-space:pre" data-editable-textarea="store.openingHours" data-e-rows="5" data-e-name="openingHours">{{store.openingHours}}</span> </p> </div> <div class="form-group" data-ng-show="userStoreOpeningHoursForm.$visible"> <button type="submit" class="btn btn-primary btn-sm" data-ng-disabled="userStoreOpeningHoursForm.$waiting"> Speichern </button> <button type="button" class="btn btn-default btn-sm" data-ng-disabled="userStoreOpeningHoursForm.$waiting" data-ng-click="userStoreOpeningHoursForm.$cancel()"> Verwerfen </button> </div> </form> </div> </div> <div class="row" data-ng-show="isEditable"> <div class="col-xs-12 col-sm-3"> <label>Koordinaten</label> <p data-ng-show="userStoreCoordinateForm.$visible">Latitude / Longitude</p> </div> <div class="col-xs-12 col-sm-9"> <p data-ng-hide="isEditable">{{store.coordinate.latitude}}</p> <p data-ng-hide="isEditable">{{store.coordinate.longitude}}</p> <button type="button" class="btn btn-default btn-sm pull-right" data-ng-click="userStoreCoordinateForm.$show()" data-ng-show="!userStoreCoordinateForm.$visible" title="Bearbeiten"> <span class="glyphicon glyphicon-edit"></span> </button> <form data-editable-form name="userStoreCoordinateForm" data-ng-show="isEditable" data-onbeforesave="updateCoordinate($data)"> <div class="form-group"> <p><span data-editable-text="store.coordinate.latitude" data-e-name="latitude">{{store.coordinate.latitude}}</span></p> <p><span data-editable-text="store.coordinate.longitude" data-e-name="longitude">{{store.coordinate.longitude}}</span></p> </div> <div class="form-group" data-ng-show="userStoreCoordinateForm.$visible"> <button type="button" class="btn btn-default btn-sm" data-ng-disabled="userStoreCoorindateForm.$waiting" data-ng-click="fromMap()" title="Koordinate von der Karte übertragen"><span class="glyphicon glyphicon-arrow-up"></span></button> <button type="submit" class="btn btn-primary btn-sm" data-ng-disabled="userStoreCoordinateForm.$waiting"> Speichern </button> <button type="button" class="btn btn-default btn-sm" data-ng-disabled="userStoreCoordinateForm.$waiting" data-ng-click="userStoreCoordinateForm.$cancel()"> Verwerfen </button> </div> </form> </div> </div> <div class="row"> <div class="col-sm-12"> <leaflet width="100%" height="400px" style="margin-bottom:10px"></leaflet> </div> </div> </div>'),a.put("views/directives/ph-user-vcard.html",'<div class="vcard"> <a class="vcard-avatar"> <img class="avatar img-responsive" src="" data-gravatar-src-once="user.email" data-gravatar-size="262"> </a> <h1 class="vcard-names"> <span class="vcard-fullname">{{user.fullName}}</span> <!--<span class="vcard-username">{{user.username}}</span>--> </h1> <!--\n  <ul class="vcard-details list-unstyled">\n    <li><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> <a href="mailto:{{user.email}}">{{user.email}}</a>\n    </li>\n  </ul>\n  --> <div class="vcard-memberships" data-ng-show="user.memberships.length"> <div class="panel panel-default"> <div class="panel-heading">Mitgliedschaften</div> <table class="table"> <tr data-ng-repeat="membership in user.memberships"> <td><a href="/{{membership.organizationUrl}}"> {{membership.organizationName}}</a> </td> </tr> </table> </div> </div> </div>'),a.put("views/goodbye.html","<h2>Abmelden</h2> <p>Auf ein andermal...</p>"),a.put("views/login.html",'<h2>Anmelden</h2> <div class="container-fluid"> <div class="row"> <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6"> <form class="form-horizontal" ng-submit="login()" name="loginForm"> <div class="form-group"> <label class="control-label col-sm-3" for="username">E-Mail-Adresse</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="username" placeholder="E-Mail-Adresse" id="username" required autofocus> </div> </div> <div class="form-group"> <label class="control-label col-sm-3" for="password">Passwort</label> <div class="col-sm-9"> <input class="form-control" type="password" data-ng-model="password" placeholder="Passwort" id="password" required> </div> </div> <!--\n        <div class="form-group">\n          <div class="checkbox col-sm-offset-3 col-sm-9">\n            <label>\n              <input type="checkbox" data-ng-model="rememberMe" /> Angemeldet bleiben\n            </label>\n          </div>\n        </div>\n        --> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <!-- data-ng-disabled="loginForm.$invalid" --> <button class="btn btn-default" type="submit">Anmelden</button> &middot; <a href="/account/resetpassword">Password vergessen?</a> &middot; <a href="/account/signup">Registrieren</a> </div> </div> </form> </div> </div> </div>'),
a.put("views/logout.html","<h2>Abmelden</h2> <p>Du wirst abgemeldet...</p>"),a.put("views/main.html",'<!--<div class="jumbotron">\n  <h1>\'Allo, \'Allo!</h1>\n  <p class="lead">&nbsp;\n    <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br>\n    Always a pleasure scaffolding your apps.\n  </p>\n  <p><a class="btn btn-lg btn-success" ng-href="shop">zum Shop</a></p>\n</div>--><!--<div class="row marketing">\n  <h4>HTML5 Boilerplate</h4>\n  <p>\n    HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites.\n  </p>\n\n  <h4>Angular</h4>\n  <p>\n    AngularJS is a toolset for building the framework most suited to your application development.\n  </p>\n\n  <h4>Karma</h4>\n  <p>Spectacular Test Runner for JavaScript.</p>\n</div>--> <h2>public</h2> <p>main.html</p> <div ui-view></div>'),a.put("views/manage/articles.html",'<ph-organization-navbar data-organization-id="organizationId"></ph-organization-navbar> <table class="table table-hover" data-st-table="displayedArticles" data-st-safe-src="articles"> <thead> <tr> <th colspan="5"><input data-st-search class="form-control" type="search" placeholder="Suchen..."></th> </tr> <tr> <th data-st-sort-default="true" data-st-sort="id">Id</th> <th data-st-sort="name">Name</th> <th class="text-right" data-st-sort="grossStock">Bestand</th> <th class="text-right" data-st-sort="price">Preis</th> <th class="text-right"><a class="btn btn-primary btn-sm" href="/orgs/{{organizationId}}/article/create">Neues Material</a></th> </tr> </thead> <tbody> <tr data-ng-repeat="row in displayedArticles"> <td>{{row.id}}</td> <td>{{row.name}}</td> <td class="text-right">{{row.grossStock}}</td> <td class="text-right">{{row.price | number:2}}</td> <td class="text-right"> <a class="btn btn-default btn-xs" href="/orgs/{{organizationId}}/article/Edit/{{row.id}}">Bearbeiten</a> <a class="btn btn-danger btn-xs" href="" data-ng-click="delete(row.id, row.name)">Löschen</a> </td> </tr> </tbody> </table>'),a.put("views/manage/create-article.html",'<h2>Neues Material erfassen</h2> <div class="row"> <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6"> <form class="form-horizontal" data-ng-submit="submit()" name="newArticleForm"> <div class="form-group"> <label class="control-label col-sm-3" for="name">Name</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="name" placeholder="" id="name" required autofocus> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button class="btn btn-primary" type="submit" data-ng-disabled="newArticleForm.$invalid">Speichern</button> <a class="btn btn-default" href="" data-ui-sref="users.articles.index({userId: userId})">Abbrechen</a> </div> </div> </form> </div> </div>'),a.put("views/manage/edit-article-description.html",'<div class="row"> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <form class="form-horizontal&quot;" data-ng-submit="submit()" name="editForm"> <div class="form-group"> <div class="col-xs-12 col-sm-12"> <textarea class="form-control" rows="10" data-ng-model="description" id="description" autofocus></textarea> </div> </div> <div class="form-group"> <div class="col-xs-12 col-sm-12" style="margin-top: 15px; margin-bottom: 15px"> <button class="btn btn-primary" type="submit" data-ng-disabled="editForm.$invalid">Speichern</button> <a class="btn btn-default" href="" data-ui-sref="users.articles.index({userId: userId})">Abbrechen</a> </div> </div> </form> </div> </div>'),a.put("views/manage/edit-article-details.html",'<div class="row"> <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6"> <form class="form-horizontal" data-ng-submit="submit()" name="editDetailsForm"> <div class="form-group"> <label class="control-label col-sm-3" for="name">Name</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="article.name" placeholder="" id="name" required autofocus> </div> </div> <div class="form-group"> <label class="control-label col-sm-3" for="brand">Marke</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="article.brand" placeholder="" id="brand"> </div> </div> <div class="form-group"> <label class="control-label col-sm-3" for="price">Preis pro Woche</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="article.price" placeholder="" id="price"> </div> </div> <div class="form-group"> <label class="control-label col-sm-3" for="grossStick">Bestand (Brutto)</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="article.grossStock" placeholder="" id="grossStick"> </div> </div> <div class="form-group"> <label class="control-label col-sm-3" for="color">Farbe</label> <div class="col-sm-9"> <input class="form-control" type="text" data-ng-model="article.color" placeholder="" id="color"> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button class="btn btn-primary" type="submit" data-ng-disabled="editDetailsForm.$invalid">Speichern</button> <a class="btn btn-default" href="" data-ui-sref="users.articles.index({userId: userId})">Abbrechen</a> </div> </div> </form> </div> </div>'),a.put("views/manage/edit-article-files.html",'<!-- The file upload form used as target for the file upload widget --> <form id="fileupload" action="" method="POST" enctype="multipart/form-data" data-ng-controller="MyFileUploadCtrl" data-file-upload="options" data-ng-class="{\'fileupload-processing\': processing() || loadingFiles}"> <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload --> <div class="row fileupload-buttonbar"> <div class="col-lg-7"> <!-- The fileinput-button span is used to style the file input field as button --> <span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}"> <i class="glyphicon glyphicon-plus"></i> <span>Add files...</span> <input type="file" name="files[]" multiple ng-disabled="disabled"> </span> <button type="button" class="btn btn-primary start" data-ng-click="submit()"> <i class="glyphicon glyphicon-upload"></i> <span>Start upload</span> </button> <button type="button" class="btn btn-warning cancel" data-ng-click="cancel()"> <i class="glyphicon glyphicon-ban-circle"></i> <span>Cancel upload</span> </button> <!-- The global file processing state --> <span class="fileupload-process"></span> </div> <!-- The global progress state --> <div class="col-lg-5 fade" data-ng-class="{in: active()}"> <!-- The global progress bar --> <div class="progress progress-striped active" data-file-upload-progress="progress()"><div class="progress-bar progress-bar-success" data-ng-style="{width: num + \'%\'}"></div></div> <!-- The extended global progress state --> <div class="progress-extended">&nbsp;</div> </div> </div> <!-- The table listing the files available for upload/download --> <table class="table table-striped files ng-cloak"> <tr data-ng-repeat="file in queue" data-ng-class="{\'processing\': file.$processing()}"> <td data-ng-switch data-on="!!file.thumbnailUrl"> <div class="preview" data-ng-switch-when="true"> <a data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}" data-gallery><img data-ng-src="{{file.thumbnailUrl}}" alt=""></a> </div> <div class="preview" data-ng-switch-default data-file-upload-preview="file"></div> </td> <td> <p class="name" data-ng-switch data-on="!!file.url"> <span data-ng-switch-when="true" data-ng-switch data-on="!!file.thumbnailUrl"> <a data-ng-switch-when="true" data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}" data-gallery>{{file.name}}</a> <a data-ng-switch-default data-ng-href="{{file.url}}" title="{{file.name}}" download="{{file.name}}">{{file.name}}</a> </span> <span data-ng-switch-default>{{file.name}}</span> </p> <strong data-ng-show="file.error" class="error text-danger">{{file.error}}</strong> </td> <td> <p class="size">{{file.size | formatFileSize}}</p> <div class="progress progress-striped active fade" data-ng-class="{pending: \'in\'}[file.$state()]" data-file-upload-progress="file.$progress()"><div class="progress-bar progress-bar-success" data-ng-style="{width: num + \'%\'}"></div></div> </td> <td> <button type="button" class="btn btn-primary start" data-ng-click="file.$submit()" data-ng-hide="!file.$submit || options.autoUpload" data-ng-disabled="file.$state() == \'pending\' || file.$state() == \'rejected\'"> <i class="glyphicon glyphicon-upload"></i> <span>Start</span> </button> <button type="button" class="btn btn-warning cancel" data-ng-click="file.$cancel()" data-ng-hide="!file.$cancel"> <i class="glyphicon glyphicon-ban-circle"></i> <span>Cancel</span> </button> <button data-ng-controller="FileDestroyController" type="button" class="btn btn-danger destroy" data-ng-click="file.$destroy()" data-ng-hide="!file.$destroy"> <i class="glyphicon glyphicon-trash"></i> <span>Delete</span> </button> </td> </tr> </table> </form>'),a.put("views/manage/edit-article-specification.html",'<div class="row"> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <form class="form-horizontal&quot;" data-ng-submit="submit()" name="editForm"> <div class="form-group"> <div class="col-xs-12 col-sm-12"> <textarea class="form-control" rows="10" data-ng-model="specification" id="specification" autofocus></textarea> </div> </div> <div class="form-group"> <div class="col-xs-12 col-sm-12" style="margin-top: 15px; margin-bottom: 15px"> <button class="btn btn-primary" type="submit" data-ng-disabled="editForm.$invalid">Speichern</button> <a class="btn btn-default" href="" data-ui-sref="users.articles.index({userId: userId})">Abbrechen</a> </div> </div> </form> </div> </div>'),a.put("views/organization.html",'<ph-organization-navbar data-ng-show="organization" data-organization-id="organizationId"></ph-organization-navbar> <div class="row"> <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"> <h2>{{organization.name}}</h2> <div data-ng-bind-html="startpage"></div> </div> <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"> <div data-ng-show="relationship"> <h3>Mitgliedschaft</h3> <div data-ng-show="relationship.status == \'None\'"> <p>Du kannst dieser Organisation <a data-ng-click="join()" class="btn btn-default btn-sm">beitreten</a>.</p> </div> <div data-ng-show="relationship.status == \'Member\'"> <p>Du bist Mitglied seit {{relationship.timestamp | date: \'dd.MM.yyyy\'}}.</p> </div> <div data-ng-show="relationship.status == \'Application\'"> <p>Du hast die Mitgliedschaft am {{relationship.timestamp | date: \'dd.MM.yyyy\'}} beantragt.</p> </div> <div data-ng-show="relationship.status == \'Rejected\'"> <p>Dein Antrag zur Mitgliedschaft am {{relationship.timestamp | date: \'dd.MM.yyyy\'}} abgelehnt.</p> <p>Du kannst die Mitgliedschaft erneut <a data-ng-click="join()" class="btn btn-default btn-sm">beantragen</a>.</p> </div> </div> <div data-ng-show="hasContactOptions()"> <h3>Kontakt</h3> <address data-ng-show="organization.address" data-ng-bind-html="organization.address|replace:\'\\r|\\n\':\'&lt;br&gt;\'"></address> <address> <div data-access-level="accessLevels.user" data-ng-show="organization.emailAddress"> E-Mail: {{organization.emailAddress|replace:\'@.*$\':\'\'}} AT <span style="display:none">null.</span><span>{{organization.emailAddress|replace:\'^.*@\':\'\'}}</span></div> <div data-ng-show="organization.website">Webseite: <a href="{{organization.website}}">{{organization.website}}</a></div> </address> </div> <div data-ng-show="organization.coordinate"> <h3>Karte</h3> <leaflet width="100%" height="400px" style="margin-bottom:10px"></leaflet> <p></p> </div> </div> </div>'),a.put("views/organizations.html",'<div class="row"> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"> <h2>Organisationen</h2> <table class="table table-hover" data-st-table="displayedOrganizations" data-st-safe-src="organizations"> <thead> <tr> <th colspan="2"><input data-st-search class="form-control" type="search" placeholder="Suchen..."></th> </tr> <tr> <th data-st-sort-default="true" data-st-sort="name">Name</th> <th data-st-sort="address">Kontakt</th> </tr> </thead> <tbody> <tr data-ng-repeat="row in displayedOrganizations"> <td><a href="./{{row.url}}">{{row.name}}</a></td> <td>{{row.address|replace:\' *[\\r\\n]+ *\':\', \'}}</td> </tr> </tbody> </table> </div> <div class="col-xs-12 col-sm-12 col-md-12 col-lg-5"> <!--<div class="jumbotron">\n      <h2>Du möchtest deine eigene Organisation haben?</h2>\n      <p>Kontaktiere das phundus-Team über die Feedback-Funktion und wir kümmern uns drum!</p>\n      <p><a class="btn btn-primary btn-lg" href="/feedback" role="button">Zum Formular</a></p>\n    </div>--> </div> </div>'),a.put("views/register.html","<h2>register</h2> <p>This is the register view.</p> <div ui-view></div>"),a.put("views/users/article-pills.html",'<div class="row"> <div class="col-sm-3"> <p class="text-center"> <a class="btn btn-default" href="" ui-sref="users.articles.index({userId: userId})"><span class="glyphicon glyphicon-arrow-left"></span> Zurück</a> </p> <ul class="nav nav-pills nav-stacked"> <li role="presentation" ui-sref-active="active"> <a href="" ui-sref="users.articles.article.details({userId: userId, articleId: articleId})">Eigenschaften</a> </li> <li role="presentation" ui-sref-active="active"> <a href="" ui-sref="users.articles.article.files({userId: userId, articleId: articleId})">Dateien</a> </li> <li role="presentation" ui-sref-active="active"> <a href="" ui-sref="users.articles.article.categories({userId: userId, articleId: articleId})">Kategorien</a> </li> </ul> </div> <div class="col-sm-9"> <ui-view></ui-view> </div> </div>'),a.put("views/users/articles.html",'<table class="table table-hover" data-st-table="displayedArticles" data-st-safe-src="articles"> <thead> <tr> <th colspan="5"><input data-st-search class="form-control" type="search" placeholder="Suchen..."></th> </tr> <tr> <th data-st-sort-default="true" data-st-sort="id">Id</th> <th data-st-sort="name">Name</th> <th class="text-right" data-st-sort="grossStock">Bestand</th> <th class="text-right" data-st-sort="price">Preis</th> <th class="text-right"><a class="btn btn-primary btn-sm" href="" data-ui-sref="users.articles.new({userId: userId})">Neues Material</a></th> </tr> </thead> <tbody> <tr data-ng-repeat="row in displayedArticles"> <td>{{row.id}}</td> <td>{{row.name}}</td> <td class="text-right">{{row.grossStock}}</td> <td class="text-right">{{row.price | number:2}}</td> <td class="text-right"> <a class="btn btn-default btn-xs" href="" data-ui-sref="users.articles.edit.details({userId: userId, articleId: row.id})">Bearbeiten</a> <a class="btn btn-danger btn-xs" href="" data-ng-click="delete(row.id, row.name)">Löschen</a> </td> </tr> </tbody> </table>'),a.put("views/users/home.html",'<div class="row"> <ph-user-vcard class="col-sm-4 col-md-3 col-lg-3 hidden-xs" data-user="user" data-ng-show="user"></ph-user-vcard> <div class="col-sm-8 col-md-9 col-lg-9 col-xs-12"> <h1 class="vcard-names visible-xs" data-ng-show="user"> <a class="vcard-avatar"> <img class="avatar" src="" data-gravatar-src-once="user.email" data-gravatar-size="32"> </a> <span class="vcard-fullname" style="display: inline">{{user.fullName}}</span> <!--<span class="vcard-username">{{user.username}}</span>--> </h1> <ph-user-store data-store="user.store" data-map="map" data-is-editable="isHome"></ph-user-store> <div data-ng-show="user"> <div data-ng-hide="user.store"> <div class="jumbotron text-center" data-ng-show="isHome"> <button class="btn btn-default btn-lg" data-ng-click="openStore()">Eigene Materialstelle eröffnen</button> </div> <div class="jumbotron" data-ng-hide="isHome"> <p>Dieser Benutzer hat keine eigene Materialstelle eröffnet.</p> </div> </div> </div> </div> </div>'),a.put("views/users/orders.html",'<table class="table" data-st-table="displayedCollection" data-st-safe-src="rowCollection"> <thead> <tr> <th data-st-sort-default="true" data-st-sort="id">Nummer</th> <th data-st-sort="organizationName">Organisation</th> <th data-st-sort="createdUtc">Erstellt</th> <th data-st-sort="status">Status</th> <th data-st-sort="modifiedUtc">Bearbeitet</th> <th></th> </tr> </thead> <tbody> <tr data-ng-repeat="order in displayedCollection"> <td>{{order.orderId}}</td> <td>{{order.organizationName}}</td> <td> <ph-date value="order.createdUtc"></ph-date> </td> <td>{{order.status | orderStatusText}}</td> <td> <ph-date value="order.modifiedUtc"></ph-date> </td> <td class="text-right"> <!--\n      <a class="btn btn-default btn-small" data-ng-click="openOrder(order)">Öffnen</a>\n      --> <a class="btn btn-default btn-sm" href="/api/orders/{{order.orderId}}.pdf">PDF</a> </td> </tr> </tbody> </table>')}]);